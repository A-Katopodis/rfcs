<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1106px" preserveAspectRatio="none" style="width:714px;height:1106px;" version="1.1" viewBox="0 0 714 1106" width="714px" zoomAndPan="magnify"><defs><filter height="300%" id="fv2ztc3clrsrt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="1091.3594" style="stroke: #383838; stroke-width: 1.0;" width="321.5" x="91.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="231.25" y="17.4951">Master</text><rect fill="#DDDDDD" height="1091.3594" style="stroke: #383838; stroke-width: 1.0;" width="231.5" x="435" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="524.75" y="17.4951">Workers</text><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="237.4609" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="93.3125"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="230.8516" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="344.7734"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="60.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="836.3438"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="112.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="925.0469"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="304" y="167.0156"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="304" y="1009.75"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="389.5" y="330.7734"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="172.0156" style="stroke: #383838; stroke-width: 1.0;" width="10" x="470.5" y="575.625"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="74.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="470.5" y="761.6406"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="28" style="stroke: #383838; stroke-width: 1.0;" width="10" x="470.5" y="897.0469"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="577" y="703.2891"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="577" y="791.9922"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="643" y="747.6406"/><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="69" x="439" y="506.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="446" y="528.1973">A worker</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="79" x="540.5" y="583.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="547.5" y="605.1582">CLIEngine</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="124.5" x2="124.5" y1="60.9609" y2="1055.75"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="309" x2="309" y1="60.9609" y2="1055.75"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="394" x2="394" y1="60.9609" y2="1055.75"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="475" x2="475" y1="539.9688" y2="1055.75"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="581.5" x2="581.5" y1="616.9297" y2="1055.75"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="647.5" x2="647.5" y1="60.9609" y2="1055.75"/><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="55" x="95.5" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="102.5" y="45.8848">ESLint</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="55" x="95.5" y="1054.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="102.5" y="1076.2832">ESLint</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="118" x="248" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="255" y="45.8848">LintResultCache</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="118" x="248" y="1054.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="255" y="1076.2832">LintResultCache</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="25" x="380" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="11" x="387" y="45.8848">fs</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="25" x="380" y="1054.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="11" x="387" y="1076.2832">fs</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="69" x="439" y="1054.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="446" y="1076.2832">A worker</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="79" x="540.5" y="1054.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="547.5" y="1076.2832">CLIEngine</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="25" x="633.5" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="11" x="640.5" y="45.8848">fs</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="25" x="633.5" y="1054.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="11" x="640.5" y="1076.2832">fs</text><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="237.4609" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="93.3125"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="230.8516" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="344.7734"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="60.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="836.3438"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="112.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="120" y="925.0469"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="304" y="167.0156"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="304" y="1009.75"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="389.5" y="330.7734"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="172.0156" style="stroke: #383838; stroke-width: 1.0;" width="10" x="470.5" y="575.625"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="74.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="470.5" y="761.6406"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="28" style="stroke: #383838; stroke-width: 1.0;" width="10" x="470.5" y="897.0469"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="577" y="703.2891"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="577" y="791.9922"/><rect fill="#FFFFFF" filter="url(#fv2ztc3clrsrt)" height="14" style="stroke: #383838; stroke-width: 1.0;" width="10" x="643" y="747.6406"/><polygon fill="#383838" points="108,89.3125,118,93.3125,108,97.3125,112,93.3125" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="114" y1="93.3125" y2="93.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="10" y="88.4561">executeOnFiles</text><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="172" y1="123.6641" y2="123.6641"/><line style="stroke: #383838; stroke-width: 1.0;" x1="172" x2="172" y1="123.6641" y2="136.6641"/><line style="stroke: #383838; stroke-width: 1.0;" x1="131" x2="172" y1="136.6641" y2="136.6641"/><polygon fill="#383838" points="141,132.6641,131,136.6641,141,140.6641,137,136.6641" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="137" y="118.8076">enumerate files</text><polygon fill="#383838" points="292,163.0156,302,167.0156,292,171.0156,296,167.0156" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="298" y1="167.0156" y2="167.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="137" y="162.1592">check files if cached or not</text><polygon fill="#383838" points="141,177.0156,131,181.0156,141,185.0156,137,181.0156" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="135" x2="308" y1="181.0156" y2="181.0156"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="172" y1="211.3672" y2="211.3672"/><line style="stroke: #383838; stroke-width: 1.0;" x1="172" x2="172" y1="211.3672" y2="224.3672"/><line style="stroke: #383838; stroke-width: 1.0;" x1="131" x2="172" y1="224.3672" y2="224.3672"/><polygon fill="#383838" points="141,220.3672,131,224.3672,141,228.3672,137,224.3672" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="137" y="206.5107">extract non-cached files</text><path d="M6,239.3672 L67,239.3672 L67,247.3672 L57,257.3672 L6,257.3672 L6,239.3672 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="741.0313" style="stroke: #000000; stroke-width: 2.0;" width="696.5" x="6" y="239.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="21" y="253.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="82" y="252.7861">[concurrency = 1]</text><path d="M6,264.7188 L153,264.7188 L153,272.7188 L143,282.7188 L6,282.7188 L6,264.7188 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="168.7578" style="stroke: #000000; stroke-width: 2.0;" width="423" x="6" y="264.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="21" y="279.2139">in 16 concurrent</text><path d="M6,290.0703 L79,290.0703 L79,298.0703 L69,308.0703 L6,308.0703 L6,290.0703 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="136.4063" style="stroke: #000000; stroke-width: 2.0;" width="413" x="6" y="290.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="21" y="304.5654">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="94" y="303.4893">[for each file]</text><polygon fill="#383838" points="377.5,326.7734,387.5,330.7734,377.5,334.7734,381.5,330.7734" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="125" x2="383.5" y1="330.7734" y2="330.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="132" y="325.917">read file content</text><polygon fill="#383838" points="141,340.7734,131,344.7734,141,348.7734,137,344.7734" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="135" x2="393.5" y1="344.7734" y2="344.7734"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="172" y1="375.125" y2="375.125"/><line style="stroke: #383838; stroke-width: 1.0;" x1="172" x2="172" y1="375.125" y2="388.125"/><line style="stroke: #383838; stroke-width: 1.0;" x1="131" x2="172" y1="388.125" y2="388.125"/><polygon fill="#383838" points="141,384.125,131,388.125,141,392.125,137,388.125" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="137" y="370.2686">verify files</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="13" y1="418.4766" y2="414.4766"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="13" y1="418.4766" y2="422.4766"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="119" y1="418.4766" y2="418.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="20" y="413.6201">yield the result</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="6" x2="702.5" y1="466.4766" y2="466.4766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="11" y="477.8955">[concurrency &gt;= 2]</text><path d="M6,488.3125 L79,488.3125 L79,496.3125 L69,506.3125 L6,506.3125 L6,488.3125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="444.7344" style="stroke: #000000; stroke-width: 2.0;" width="686.5" x="6" y="488.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="21" y="502.8076">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="94" y="501.7314">['concurrency' times]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="437" x2="427" y1="529.0156" y2="525.0156"/><line style="stroke: #383838; stroke-width: 1.0;" x1="437" x2="427" y1="529.0156" y2="533.0156"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="438" y1="529.0156" y2="529.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="137" y="524.1592">create worker</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="69" x="439" y="506.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="446" y="528.1973">A worker</text><line style="stroke: #383838; stroke-width: 1.0;" x1="468.5" x2="458.5" y1="575.625" y2="571.625"/><line style="stroke: #383838; stroke-width: 1.0;" x1="468.5" x2="458.5" y1="575.625" y2="579.625"/><line style="stroke: #383838; stroke-width: 1.0;" x1="125" x2="469.5" y1="575.625" y2="575.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="132" y="570.7686">send options and initial files</text><polygon fill="#383838" points="528.5,601.9766,538.5,605.9766,528.5,609.9766,532.5,605.9766" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="480.5" x2="534.5" y1="605.9766" y2="605.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="487.5" y="601.1201">create</text><rect fill="#F8F8F8" filter="url(#fv2ztc3clrsrt)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="79" x="540.5" y="583.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="547.5" y="605.1582">CLIEngine</text><path d="M6,637.2344 L153,637.2344 L153,645.2344 L143,655.2344 L6,655.2344 L6,637.2344 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="274.8125" style="stroke: #000000; stroke-width: 2.0;" width="676.5" x="6" y="637.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="21" y="651.7295">in 16 concurrent</text><path d="M6,662.5859 L79,662.5859 L79,670.5859 L69,680.5859 L6,680.5859 L6,662.5859 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="242.4609" style="stroke: #000000; stroke-width: 2.0;" width="666.5" x="6" y="662.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="21" y="677.0811">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="94" y="676.0049">[until no more file]</text><polygon fill="#383838" points="565,699.2891,575,703.2891,565,707.2891,569,703.2891" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="480.5" x2="571" y1="703.2891" y2="703.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="487.5" y="698.4326">read config</text><polygon fill="#383838" points="491.5,713.2891,481.5,717.2891,491.5,721.2891,487.5,717.2891" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="485.5" x2="581" y1="717.2891" y2="717.2891"/><line style="stroke: #383838; stroke-width: 1.0;" x1="641" x2="631" y1="747.6406" y2="743.6406"/><line style="stroke: #383838; stroke-width: 1.0;" x1="641" x2="631" y1="747.6406" y2="751.6406"/><line style="stroke: #383838; stroke-width: 1.0;" x1="475.5" x2="642" y1="747.6406" y2="747.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="482.5" y="742.7842">read file content</text><line style="stroke: #383838; stroke-width: 1.0;" x1="480.5" x2="490.5" y1="761.6406" y2="757.6406"/><line style="stroke: #383838; stroke-width: 1.0;" x1="480.5" x2="490.5" y1="761.6406" y2="765.6406"/><line style="stroke: #383838; stroke-width: 1.0;" x1="480.5" x2="647" y1="761.6406" y2="761.6406"/><polygon fill="#383838" points="565,787.9922,575,791.9922,565,795.9922,569,791.9922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="480.5" x2="571" y1="791.9922" y2="791.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="487.5" y="787.1357">verify file</text><polygon fill="#383838" points="491.5,801.9922,481.5,805.9922,491.5,809.9922,487.5,805.9922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="485.5" x2="581" y1="805.9922" y2="805.9922"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="140" y1="836.3438" y2="832.3438"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="140" y1="836.3438" y2="840.3438"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="474.5" y1="836.3438" y2="836.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="147" y="831.4873">report lint result</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="13" y1="866.6953" y2="862.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="13" y1="866.6953" y2="870.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3" x2="119" y1="866.6953" y2="866.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="20" y="861.8389">yield the result</text><line style="stroke: #383838; stroke-width: 1.0;" x1="468.5" x2="458.5" y1="897.0469" y2="893.0469"/><line style="stroke: #383838; stroke-width: 1.0;" x1="468.5" x2="458.5" y1="897.0469" y2="901.0469"/><line style="stroke: #383838; stroke-width: 1.0;" x1="125" x2="469.5" y1="897.0469" y2="897.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="132" y="892.1904">send next file if exist</text><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="140" y1="925.0469" y2="921.0469"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="140" y1="925.0469" y2="929.0469"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="130" x2="474.5" y1="925.0469" y2="925.0469"/><line style="stroke: #383838; stroke-width: 2.0;" x1="466.5" x2="484.5" y1="916.0469" y2="934.0469"/><line style="stroke: #383838; stroke-width: 2.0;" x1="466.5" x2="484.5" y1="934.0469" y2="916.0469"/><path d="M46,945.0469 L46,971.0469 L199,971.0469 L199,955.0469 L189,945.0469 L46,945.0469 " fill="#ECECEC" filter="url(#fv2ztc3clrsrt)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M189,945.0469 L189,955.0469 L199,955.0469 L189,945.0469 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="52" y="963.542">wait for all workers exit</text><polygon fill="#383838" points="292,1005.75,302,1009.75,292,1013.75,296,1009.75" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="130" x2="298" y1="1009.75" y2="1009.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="137" y="1004.8936">update cache</text><polygon fill="#383838" points="141,1019.75,131,1023.75,141,1027.75,137,1023.75" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="135" x2="308" y1="1023.75" y2="1023.75"/><polygon fill="#383838" points="14,1033.75,4,1037.75,14,1041.75,10,1037.75" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="124" y1="1037.75" y2="1037.75"/><!--
@startuml overview
skinparam monochrome true
skinparam backgroundColor #ffffff
skinparam sequenceGroupBodyBackGroundColor transparent
skinparam boxPadding 10

box "Master"
    participant "ESLint" as engine1
    participant "LintResultCache" as cache
    participant "fs" as fs1
end box

box "Workers"
    participant "A worker" as worker
    participant "CLIEngine" as engine2
    participant "fs" as fs2
end box

[-> engine1 : executeOnFiles
activate engine1

engine1 -> engine1 : enumerate files

engine1 -> cache : check files if cached or not
activate cache
cache - -> engine1
deactivate cache
  
engine1 -> engine1 : extract non-cached files
  
alt concurrency = 1
    group in 16 concurrent
        loop for each file
            engine1 -> fs1 : read file content
            deactivate engine1
            activate fs1
            fs1 -> engine1
            deactivate fs1
            activate engine1
            engine1 -> engine1 : verify files
            [<<- engine1 : yield the result
        end
    end
    |||
else concurrency >= 2
    loop 'concurrency' times
        create worker
        engine1 ->> worker : create worker
        engine1 ->> worker : send options and initial files
        deactivate engine1
        activate worker
        create engine2
        worker -> engine2 : create
        group in 16 concurrent
            loop until no more file
                worker -> engine2 : read config
                activate engine2
                engine2 - -> worker
                deactivate engine2
                worker ->> fs2 : read file content
                deactivate worker
                activate fs2
                fs2 ->> worker
                deactivate fs2
                activate worker
                worker -> engine2 : verify file
                activate engine2
                engine2 - -> worker
                deactivate engine2
                worker ->> engine1 : report lint result
                deactivate worker
                activate engine1
                [<<- engine1 : yield the result
                engine1 ->> worker : send next file if exist
                deactivate engine1
                activate worker
            end
        end
        worker - ->> engine1
        destroy worker
        activate engine1
    end
    note over engine1: wait for all workers exit
end

engine1 -> cache : update cache
activate cache
cache - -> engine1
deactivate cache

[<- - engine1
deactivate engine1
@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 JST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13+33
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>